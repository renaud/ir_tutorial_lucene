<h1>Lucene Practicals</h1>

<h2>1. Getting started with Lucene</h2>

<h3>1.1. Index documents</h3>

<p><code>ch.epfl.coling.lucene.Indexer</code> demonstate how to index text.</p>

<p>Further reading:</p>

<ul>
<li><a href="http://lucene.apache.org/core/4_0_0/core/org/apache/lucene/search/package-summary.html#package_description">Introduction to how Lucene scores documents</a></li>
<li><a href="http://lucene.apache.org/core/4_0_0/core/org/apache/lucene/search/similarities/TFIDFSimilarity.html">Description of Lucene's classic vector space implementation for ranking</a></li>
</ul>

<h3>1.2. Search documents</h3>

<p><code>ch.epfl.coling.lucene.Searcher</code> demonstate how to perform index search. You can test the <em>query parser</em> with the following queries:</p>

<ul>
<li><code>jumps</code></li>
<li><code>jum</code></li>
<li><code>jum*</code> (wildcard search)</li>
<li><code>jumsp</code> </li>
<li><code>jumsp~</code> (fuzzy searches based on Damerau-Levenshtein Distance)</li>
<li><code>red fox</code></li>
<li><code>"red fox"</code> (phrase search)</li>
<li><code>fox NOT red</code> (boolean operators)</li>
</ul>

<p>Further reading:</p>

<ul>
<li><a href="http://lucene.apache.org/core/4_0_0/queryparser/org/apache/lucene/queryparser/classic/package-summary.html#package_description">Query parser syntax</a></li>
</ul>

<h3>1.3 Inspect Index</h3>

<p><a href="http://code.google.com/p/luke/">Luke</a> (can be found in folder <code>luke</code>, double click to launch) allows you to inspect the internals of a Lucene index. </p>

<p><img src="overview.PNG" alt="Luke" title="" /></p>

<ul>
<li>Check the "Top ranking terms". What is missing? Why?</li>
</ul>

<p><img src="doc1.PNG" alt="Luke" title="" /></p>

<ul>
<li>Look at how a document is stored: 
<ol>
<li>Click tab <code>Documents</code></li>
<li>Browse to document # 1 (with blue arrow)</li>
<li>Click on <code>Reconstruct &amp; Edit</code></li>
<li>Click on tab <code>Tokenized (from all 'text' fields)</code></li>
</ol></li>
</ul>

<p><img src="search.PNG" alt="Luke" title="" /></p>

<ul>
<li>Search for documents
<ol>
<li>Click on tab <code>Search</code></li>
<li><code>Enter search expression:</code>: type <code>over</code></li>
<li>Select English Analyzer in dropdown</li>
<li>Click <code>Search</code> button</li>
</ol></li>
</ul>

<h2>2. Indexing a larger corpora</h2>

<p>The <code>data</code> folder contains a corpus of 25k sentences from biomedical articles (<a href="http://www.ncbi.nlm.nih.gov/pmc/">PMC</a>). To index it:</p>

<ol>
<li>Delete the current index in the <code>index</code> folder</li>
<li>In <code>ch.epfl.coling.lucene.Indexer</code> line 43, call the function <code>getText2()</code> instead. </li>
<li>Run the Indexer again</li>
<li>Check the index with Luke, try sample queries for 
<ul>
<li><code>AMPA</code>, <code>GABA</code> (neurotransmitters)</li>
<li>then <code>GABA receptor</code>, <code>"GABA receptor"</code> </li>
</ul></li>
</ol>

<h2>Using another analyzer: adding your own stopwords</h2>

<ol>
<li>Uncomment code in <code>ch.epfl.coling.lucene.Indexer.getAnalyzer()</code> and modify the <code>stopwords</code> variable. </li>
<li>Delete your index, and re-run the indexing.</li>
<li>Use Luke to find candidate words for the stoplist.</li>
</ol>
